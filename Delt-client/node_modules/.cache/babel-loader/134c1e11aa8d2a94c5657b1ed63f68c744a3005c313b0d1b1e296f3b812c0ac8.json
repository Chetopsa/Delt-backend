{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddMeal=()=>{const[meal,setMeal]=useState({date:\"\",description:\"\",isDinner:true,spotsAvaliable:10});// const toCSTDate = (dateStr) => {\n//     const date = new Date(dateStr);\n//     const cstOffset = -6 * 60 * 60 * 1000;\n//     // Apply the CST offset to the UTC time\n//     const cstDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000 + cstOffset);\n//     // Format the date as ISO 8601 string in CST\n//     return cstDate.toISOString().split('T')[0]; // \"YYYY-MM-DD\" format\n// };\nconst handleChange=e=>{// console.log(e.target.name, e.target.value);\nif(e.target.name===\"isDinner\"){setMeal({...meal,[e.target.name]:e.target.checked});}else if(e.target.name===\"date\"){const adjustedDate=e.target.value;console.log(adjustedDate);setMeal({...meal,[e.target.name]:adjustedDate});}else{setMeal({...meal,[e.target.name]:e.target.value});}};const handleSubmit=e=>{e.preventDefault();fetch(process.env.REACT_APP_BACKENDURL+\"/api/addMeal\",{headers:{\"content-type\":\"application/json\"},method:\"POST\",credentials:\"include\",body:JSON.stringify(meal)}).then(res=>{if(res.ok){console.log(res);}else{throw new Error(\"Server gave bad response for adding meal\");}}).catch(err=>{console.log(\"error adding meal: \"+err);});console.log(meal);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"w-full max-w-md p-6 bg-white shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4 text-gray-700\",children:\"Add a Meal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"block text-gray-600 font-medium mb-2\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:meal.date,required:true,onChange:handleChange,className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-gray-600 font-medium mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",placeholder:\"Enter description\",value:meal.description,required:true,onChange:handleChange,className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"spotsAvailable\",className:\"block text-gray-600 font-medium mb-2\",children:\"Spots Available\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"spotsAvaliable\",value:meal.spotsAvaliable,default:\"10\",onChange:handleChange,className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isDinner\",value:meal.isDinner,onChange:handleChange,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"isDinner\",className:\"text-gray-600 font-medium\",children:\"Is this a dinner meal?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition duration-200\",children:\"Add Meal\"})]})});};export default AddMeal;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","AddMeal","meal","setMeal","date","description","isDinner","spotsAvaliable","handleChange","e","target","name","checked","adjustedDate","value","console","log","handleSubmit","preventDefault","fetch","process","env","REACT_APP_BACKENDURL","headers","method","credentials","body","JSON","stringify","then","res","ok","Error","catch","err","className","children","onSubmit","htmlFor","type","required","onChange","placeholder","default"],"sources":["/Users/chestonopsasnick/Documents/Coding_Projects/Delt-backend/Delt-client/src/components/AddMeal.js"],"sourcesContent":["import React, {useState} from 'react';\n\nconst AddMeal = () => {\n    const [meal, setMeal] = useState({\n        date: \"\",\n        description: \"\",\n        isDinner: true,\n        spotsAvaliable: 10\n    });\n\n    // const toCSTDate = (dateStr) => {\n    //     const date = new Date(dateStr);\n\n    //     const cstOffset = -6 * 60 * 60 * 1000;\n\n    //     // Apply the CST offset to the UTC time\n    //     const cstDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000 + cstOffset);\n    //     // Format the date as ISO 8601 string in CST\n    //     return cstDate.toISOString().split('T')[0]; // \"YYYY-MM-DD\" format\n    // };\n\n    const handleChange = (e) => {\n        // console.log(e.target.name, e.target.value);\n        if (e.target.name === \"isDinner\") {\n            setMeal({...meal, [e.target.name]: e.target.checked});\n        } else if(e.target.name === \"date\") {\n            const adjustedDate = (e.target.value);\n            console.log(adjustedDate);\n            setMeal({ ...meal, [e.target.name]: adjustedDate});\n        } else {\n            setMeal({ ...meal, [e.target.name]: e.target.value });\n        }\n    };\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        fetch(process.env.REACT_APP_BACKENDURL +\"/api/addMeal\", {\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            method: \"POST\",\n            credentials: \"include\",\n            body: JSON.stringify(meal),\n        })\n        .then((res) => {\n            if (res.ok) {\n                console.log(res)\n            }\n            else {\n                throw new Error(\"Server gave bad response for adding meal\");\n            }\n        })\n        .catch((err) => {\n            console.log(\"error adding meal: \" + err);\n        })\n        console.log(meal);\n    };\n    \n    return (\n        <div className=\"flex justify-center items-center min-h-screen bg-gray-100\">\n    <form \n        onSubmit={handleSubmit} \n        className=\"w-full max-w-md p-6 bg-white shadow-lg rounded-lg\"\n    >\n        <h2 className=\"text-2xl font-bold mb-4 text-gray-700\">Add a Meal</h2>\n        <div className=\"mb-4\">\n            <label \n                htmlFor=\"date\" \n                className=\"block text-gray-600 font-medium mb-2\"\n            >\n                Date\n            </label>\n            <input\n                type=\"date\"\n                name=\"date\"\n                value={meal.date}\n                required\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n            />  \n        </div>\n        <div className=\"mb-4\">\n            <label \n                htmlFor=\"description\" \n                className=\"block text-gray-600 font-medium mb-2\"\n            >\n                Description\n            </label>\n            <input\n                type=\"text\"\n                name=\"description\"\n                placeholder=\"Enter description\"\n                value={meal.description}\n                required\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n            />\n        </div>\n        \n        <div className=\"mb-4\">\n            <label \n                htmlFor=\"spotsAvailable\" \n                className=\"block text-gray-600 font-medium mb-2\"\n            >\n                Spots Available\n            </label>\n            <input\n                type=\"number\"\n                name=\"spotsAvaliable\"\n                value={meal.spotsAvaliable}\n                default=\"10\"\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n            />\n        </div>\n        <div className=\"mb-4 flex items-center\">\n            <input\n                type=\"checkbox\"\n                name=\"isDinner\"\n                value={meal.isDinner}\n                onChange={handleChange}\n                className=\"mr-2\"\n            />\n            <label \n                htmlFor=\"isDinner\" \n                className=\"text-gray-600 font-medium\"\n            >\n                Is this a dinner meal?\n            </label>\n        </div>\n        \n        <button \n            type=\"submit\" \n            className=\"w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition duration-200\"\n        >\n            Add Meal\n        </button>\n    </form>\n</div>\n\n    );\n    };\n\nexport default AddMeal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}