{"ast":null,"code":"export async function requestAuth(){let ret=null;await fetch(process.env.REACT_APP_BACKENDURL+'/api/validation',{method:'GET',credentials:'include'// ensure cookies are sent with the request\n}).then(res=>res.json()).then(data=>{console.log(data);if(data.authorized){if(data.isAdmin){ret={authorized:true,isAdmin:true};}else{ret={authorized:true,isAdmin:false};}// console.log(\"if is authenitcated ret is: \" + ret);\n}else{ret={authorized:false,isAdmin:false};}}).catch(err=>{// console.log('Error fetching validation data:', err);\nret={authorized:false,isAdmin:false};});return ret;}","map":{"version":3,"names":["requestAuth","ret","fetch","process","env","REACT_APP_BACKENDURL","method","credentials","then","res","json","data","console","log","authorized","isAdmin","catch","err"],"sources":["/Users/chestonopsasnick/Documents/Coding_Projects/Delt-backend/Delt-client/src/utils/requestAuth.js"],"sourcesContent":["\nexport async function requestAuth() {\n    let ret = null;\n    await fetch(process.env.REACT_APP_BACKENDURL +'/api/validation', {\n        method: 'GET',\n        credentials: 'include', // ensure cookies are sent with the request\n    })\n        .then(res => res.json())\n        .then(data => {\n            console.log(data);\n            if (data.authorized) {\n                if (data.isAdmin) {\n                    ret = { authorized: true, isAdmin: true };\n                } else {\n                    ret = { authorized: true, isAdmin: false };\n                }\n                // console.log(\"if is authenitcated ret is: \" + ret);\n            } else {\n                ret = { authorized: false, isAdmin: false };\n            }\n        })\n        .catch(err => {\n            // console.log('Error fetching validation data:', err);\n            ret = { authorized: false, isAdmin: false };\n        });\n    return ret;\n}\n"],"mappings":"AACA,MAAO,eAAe,CAAAA,WAAWA,CAAA,CAAG,CAChC,GAAI,CAAAC,GAAG,CAAG,IAAI,CACd,KAAM,CAAAC,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,oBAAoB,CAAE,iBAAiB,CAAE,CAC7DC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAW;AAC5B,CAAC,CAAC,CACGC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAI,CACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,GAAIA,IAAI,CAACG,UAAU,CAAE,CACjB,GAAIH,IAAI,CAACI,OAAO,CAAE,CACdd,GAAG,CAAG,CAAEa,UAAU,CAAE,IAAI,CAAEC,OAAO,CAAE,IAAK,CAAC,CAC7C,CAAC,IAAM,CACHd,GAAG,CAAG,CAAEa,UAAU,CAAE,IAAI,CAAEC,OAAO,CAAE,KAAM,CAAC,CAC9C,CACA;AACJ,CAAC,IAAM,CACHd,GAAG,CAAG,CAAEa,UAAU,CAAE,KAAK,CAAEC,OAAO,CAAE,KAAM,CAAC,CAC/C,CACJ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,EAAI,CACV;AACAhB,GAAG,CAAG,CAAEa,UAAU,CAAE,KAAK,CAAEC,OAAO,CAAE,KAAM,CAAC,CAC/C,CAAC,CAAC,CACN,MAAO,CAAAd,GAAG,CACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}